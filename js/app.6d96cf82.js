(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["app"],{0:function(n,e,t){n.exports=t("2f39")},"0047":function(n,e,t){},1:function(n,e){},2:function(n,e){},"26a5":function(n,e,t){"use strict";(function(n){t.d(e,"a",(function(){return d}));t("55dd"),t("ac6a"),t("cadf"),t("456d"),t("f751");var r=t("fc74"),a=t.n(r),o=t("59a1"),i=t.n(o),c=(t("6b54"),t("551c"),t("06db"),t("1732")),u=t("7871"),s=Object({NODE_ENV:"production",CLIENT:!0,SERVER:!1,DEV:!1,PROD:!0,MODE:"spa",VUE_ROUTER_MODE:"history",VUE_ROUTER_BASE:"/",APP_URL:"undefined"}).VUE_APP_NAME||"CommonStorage",f=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return new Promise((function(r,a){u["a"].getFile("".concat(s,"_").concat(e),{decrypt:t}).then((function(o){if(null!==o)return r(JSON.parse(o.toString()));u["a"].putFile("".concat(s,"_").concat(e),n.from(JSON.stringify({})),{encrypt:t}).then((function(){return r({})})).catch(a)})).catch(a)}))},l=function(e,t){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return new Promise((function(a,o){u["a"].putFile("".concat(s,"_").concat(e),n.from(JSON.stringify(t)),{encrypt:r}).then(a).catch(o)}))},p=function(n){return console.log(n),JSON.parse(JSON.stringify(n))},d=function(n){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return(function(){function t(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;a()(this,t),this.__modelName=n,this.__id=Object(c["a"])().toString(),this.__createdAt=(new Date).getTime(),this.__updatedAt=(new Date).getTime(),this.__encrypt=e,Object.assign(this,r)}return i()(t,null,[{key:"fetchAll",value:function(){return new Promise((function(t,r){f(n,e).then((function(n){var e=Object.keys(n).map((function(e){return n[e]}));e.sort((function(n,e){return n.__createdAt-e.__createdAt})),t(e)})).catch(r)}))}},{key:"getById",value:function(t){return new Promise((function(r,a){f(n,e).then((function(n){return r(n[t])})).catch(a)}))}},{key:"create",value:function(r){return new Promise((function(a,o){var i=new t(r);f(n,e).then((function(t){t[i.__id]=p(i),l(n,t,e).then((function(){return a(p(i))})).catch(o)})).catch(o)}))}},{key:"update",value:function(t,r){return new Promise((function(a,o){f(n,e).then((function(i){Object.assign(i[t],r),i[t].__updatedAt=(new Date).getTime(),l(n,i,e).then((function(){return a(r)})).catch(o)})).catch(o)}))}},{key:"deleteById",value:function(t){return new Promise((function(r,a){f(n,e).then((function(o){delete o[t],l(n,o,e).then((function(){return r()})).catch(a)})).catch(a)}))}}]),t}())}}).call(this,t("b639").Buffer)},"2f39":function(n,e,t){"use strict";t.r(e);var r={};t.r(r),t.d(r,"mutation",(function(){return G})),t.d(r,"setUser",(function(){return H})),t.d(r,"setLoading",(function(){return K})),t.d(r,"clearState",(function(){return W})),t.d(r,"setBooks",(function(){return X})),t.d(r,"setCategories",(function(){return Y})),t.d(r,"setBillionaires",(function(){return Z})),t.d(r,"setBaseData",(function(){return nn})),t.d(r,"setBookmarkData",(function(){return en})),t.d(r,"updateSearchTerm",(function(){return tn}));var a={};t.r(a),t.d(a,"handleSignin",(function(){return cn})),t.d(a,"signOut",(function(){return un})),t.d(a,"initializeData",(function(){return sn})),t.d(a,"fetchBookmarks",(function(){return fn})),t.d(a,"createBookmarkData",(function(){return ln})),t.d(a,"deleteBookmarkData",(function(){return pn})),t.d(a,"updateSearchTerm",(function(){return dn}));var o=t("967e"),i=t.n(o),c=(t("a481"),t("96cf"),t("fa84")),u=t.n(c),s=(t("7d6e"),t("e54f"),t("985d"),t("0047"),t("2b0e")),f=t("b05d"),l=t("27f9"),p=t("068f"),d=t("f09f"),h=t("a370"),m=t("4b7e"),b=t("1c1c"),w=t("66e5"),v=t("4074"),g=t("0170"),k=t("9c40"),y=t("4e73"),D=t("9404"),O=t("7ff0"),x=t("65c6"),P=t("6ac5"),_=t("0016"),S=t("7ea5"),j=t("f508"),B=t("9c64"),Q=t("18d6");s["a"].use(f["a"],{config:{},components:{QInput:l["a"],QImg:p["a"],QCard:d["a"],QCardSection:h["a"],QCardActions:m["a"],QList:b["a"],QItem:w["a"],QItemSection:v["a"],QItemLabel:g["a"],QBtn:k["a"],QMenu:y["a"],QDrawer:D["a"],QFooter:O["a"],QToolbar:x["a"],QToolbarTitle:P["a"],QIcon:_["a"],QAjaxBar:S["a"]},plugins:{Loading:j["a"],Meta:B["a"],LocalStorage:Q["a"]}});var E=function(){var n=this,e=n.$createElement,t=n._self._c||e;return t("div",{attrs:{id:"q-app"}},[t("router-view")],1)},I=[],T=(t("8e6e"),t("8a81"),t("ac6a"),t("cadf"),t("06db"),t("456d"),t("c47a")),A=t.n(T),U=t("2f62");function N(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),t.push.apply(t,r)}return t}function C(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?N(Object(t),!0).forEach((function(e){A()(n,e,t[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):N(Object(t)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(t,e))}))}return n}var V={name:"App",mounted:function(){var n=u()(i.a.mark((function n(){var e=this;return i.a.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return window.app=this,n.prev=1,n.next=4,this.initializeData();case 4:return n.next=6,this.handleSignin((function(){e.$router.push("/")}));case 6:n.next=11;break;case 8:n.prev=8,n.t0=n["catch"](1),console.log(n.t0);case 11:case"end":return n.stop()}}),n,this,[[1,8]])})));function e(){return n.apply(this,arguments)}return e}(),methods:C({},Object(U["b"])("app",["initializeData","handleSignin"]))},L=V,J=t("2877"),R=Object(J["a"])(L,E,I,!1,null,null,null),M=R.exports,z={user:{},appLoading:!1,searchQuery:"",snapshot:{},baseData:{books:[],billionaires:[],categories:[],searchTerm:""},bookmarkData:[]},F=JSON.parse(JSON.stringify(z));delete F["appLoading"];var $=z,q=t("43a3"),G=(t("f751"),function(n,e){}),H=function(n,e){n.user=e},K=function(n,e){n.appLoading=e},W=function(n){Object.assign(n,F)},X=function(n,e){n.baseData.books=e},Y=function(n,e){n.baseData.categories=e},Z=function(n,e){n.baseData.billionaires=e},nn=function(n,e){n.baseData=e},en=function(n,e){n.bookmarkData=e},tn=function(n,e){n.searchTerm=e},rn=(t("097d"),t("551c"),t("26a5")),an=Object(rn["a"])("BookmarkData"),on=t("7871"),cn=function(){var n=u()(i.a.mark((function n(e,t){return i.a.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(j["a"].show(),n.prev=1,!on["a"].isSignInPending()){n.next=9;break}return n.next=5,on["a"].handlePendingSignIn();case 5:return n.next=7,e.dispatch("initializeData");case 7:console.log("user is logged in"),"function"===typeof t&&t();case 9:n.next=14;break;case 11:n.prev=11,n.t0=n["catch"](1),console.log(n.t0);case 14:j["a"].hide();case 15:case"end":return n.stop()}}),n,null,[[1,11]])})));return function(e,t){return n.apply(this,arguments)}}(),un=function(n){console.log("signout"),on["a"].signUserOut(),window.location.reload()},sn=function(){var n=u()(i.a.mark((function n(e){return i.a.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return j["a"].show(),n.prev=1,n.next=4,new Promise((function(n){setTimeout(u()(i.a.mark((function t(){var r;return i.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:j["a"].show(),on["a"].isUserSignedIn()?(r=on["a"].loadUserData(),e.commit("setUser",r),e.dispatch("fetchBookmarks")):e.commit("clearState"),n();case 3:case"end":return t.stop()}}),t)}))),1e3)}));case 4:n.next=9;break;case 6:n.prev=6,n.t0=n["catch"](1),console.log(n.t0);case 9:j["a"].hide();case 10:case"end":return n.stop()}}),n,null,[[1,6]])})));return function(e){return n.apply(this,arguments)}}(),fn=function(n){return j["a"].show(),new Promise((function(e){return an.fetchAll().then((function(t){return n.commit("setBookmarkData",t),e(t)})).finally((function(){j["a"].hide()}))}))},ln=function(n,e){return j["a"].show(),new Promise((function(n){return an.create({bookId:e}).then(n).finally((function(){j["a"].hide()}))}))},pn=function(n,e){return j["a"].show(),new Promise((function(n){return an.deleteById(e).then(n).finally((function(){j["a"].hide()}))}))},dn=function(n,e){n.commit("updateSearchTerm",e)},hn={namespaced:!0,getters:q,mutations:r,actions:a,state:$},mn=t("0e44");s["a"].use(U["a"]);var bn=new U["a"].Store({modules:{app:hn},plugins:[Object(mn["a"])()],strict:!1}),wn=function(){return bn},vn=t("8c4f"),gn=[{path:"/",component:function(){return Promise.all([t.e("vendor"),t.e("chunk-common"),t.e("41755ef9")]).then(t.bind(null,"f241"))},children:[{path:"",component:function(){return Promise.all([t.e("vendor"),t.e("chunk-common"),t.e("166260a6")]).then(t.bind(null,"8b24"))}},{path:"bookmark",component:function(){return Promise.all([t.e("vendor"),t.e("chunk-common"),t.e("2d0bff62")]).then(t.bind(null,"406f"))}},{path:"references",component:function(){return Promise.all([t.e("vendor"),t.e("chunk-common"),t.e("01d6b05e")]).then(t.bind(null,"93b8"))}}]},{path:"/dashboard",component:function(){return Promise.all([t.e("vendor"),t.e("2d0c027a")]).then(t.bind(null,"4129"))},children:[{path:"books",component:function(){return Promise.all([t.e("vendor"),t.e("2d0bd929")]).then(t.bind(null,"2d23"))}},{path:"categories",component:function(){return Promise.all([t.e("vendor"),t.e("2d0b9df5")]).then(t.bind(null,"3596"))}},{path:"billionaires",component:function(){return Promise.all([t.e("vendor"),t.e("2d225c53")]).then(t.bind(null,"e68d"))}},{path:"imexport",component:function(){return Promise.all([t.e("vendor"),t.e("2d20f006")]).then(t.bind(null,"b288"))}}]}];gn.push({path:"*",component:function(){return Promise.all([t.e("vendor"),t.e("4b47640d")]).then(t.bind(null,"e51e"))}});var kn=gn;s["a"].use(vn["a"]);var yn=function(){var n=new vn["a"]({scrollBehavior:function(){return{x:0,y:0}},routes:kn,mode:"history",base:"/"});return n},Dn=function(){return On.apply(this,arguments)};function On(){return On=u()(i.a.mark((function n(){var e,t,r;return i.a.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if("function"!==typeof wn){n.next=6;break}return n.next=3,wn({Vue:s["a"]});case 3:n.t0=n.sent,n.next=7;break;case 6:n.t0=wn;case 7:if(e=n.t0,"function"!==typeof yn){n.next=14;break}return n.next=11,yn({Vue:s["a"],store:e});case 11:n.t1=n.sent,n.next=15;break;case 14:n.t1=yn;case 15:return t=n.t1,e.$router=t,r={el:"#q-app",router:t,store:e,render:function(n){return n(M)}},n.abrupt("return",{app:r,store:e,router:t});case 19:case"end":return n.stop()}}),n)}))),On.apply(this,arguments)}t("e683");var xn=function(){var n=u()(i.a.mark((function n(e){var t;return i.a.wrap((function(n){while(1)switch(n.prev=n.next){case 0:t=e.Vue,t.prototype.$userSession=on["a"];case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),Pn=t("4eb5"),_n=t.n(Pn),Sn=function(){var n=u()(i.a.mark((function n(e){var t;return i.a.wrap((function(n){while(1)switch(n.prev=n.next){case 0:t=e.Vue,_n.a.config.autoSetContainer=!0,t.use(_n.a);case 3:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();function jn(){return Bn.apply(this,arguments)}function Bn(){return Bn=u()(i.a.mark((function n(){var e,t,r,a,o,c,u,f,l;return i.a.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,Dn();case 2:e=n.sent,t=e.app,r=e.store,a=e.router,o=!0,c=function(n){o=!1,window.location.href=n},u=window.location.href.replace(window.location.origin,""),f=[void 0,xn,Sn],l=0;case 11:if(!(!0===o&&l<f.length)){n.next=29;break}if("function"===typeof f[l]){n.next=14;break}return n.abrupt("continue",26);case 14:return n.prev=14,n.next=17,f[l]({app:t,router:a,store:r,Vue:s["a"],ssrContext:null,redirect:c,urlPath:u});case 17:n.next=26;break;case 19:if(n.prev=19,n.t0=n["catch"](14),!n.t0||!n.t0.url){n.next=24;break}return window.location.href=n.t0.url,n.abrupt("return");case 24:return console.error("[Quasar] boot error:",n.t0),n.abrupt("return");case 26:l++,n.next=11;break;case 29:if(!1!==o){n.next=31;break}return n.abrupt("return");case 31:new s["a"](t);case 32:case"end":return n.stop()}}),n,null,[[14,19]])}))),Bn.apply(this,arguments)}jn()},3:function(n,e){},4:function(n,e){},"43a3":function(n,e,t){"use strict";t.r(e),t.d(e,"getter",(function(){return i})),t.d(e,"isUserSignedIn",(function(){return c})),t.d(e,"userAvatar",(function(){return u})),t.d(e,"userDisplayName",(function(){return s})),t.d(e,"baseBooks",(function(){return f})),t.d(e,"baseCategories",(function(){return l})),t.d(e,"baseBillionaires",(function(){return p})),t.d(e,"bookmarkData",(function(){return d})),t.d(e,"searchTerm",(function(){return h}));t("55dd"),t("7f7f");var r=t("4aa6"),a=t("7871"),o="https://emboldenit.com/img/samples/common_avatar.png";function i(n){}var c=function(n){return!Object(r["a"])(n.user)&&a["a"].isUserSignedIn()},u=function(n){if(Object(r["a"])(n.user)||!n.user.profile.image||Object(r["a"])(n.user.profile.image))return o;var e=n.user.profile.image,t=e.filter((function(n){return"avatar"===n.name}));return t?t[0].contentUrl:o},s=function(n){return Object(r["a"])(n.user)?"":n.user.profile.name?n.user.profile.name:n.user.username},f=function(n){return n.baseData.books.sort((function(n,e){return new Date(e.timestamp)-new Date(n.timestamp)})),n.baseData.books},l=function(n){return n.baseData.categories.sort((function(n,e){return new Date(e.timestamp)-new Date(n.timestamp)})),n.baseData.categories},p=function(n){return n.baseData.billionaires.sort((function(n,e){return new Date(e.timestamp)-new Date(n.timestamp)})),n.baseData.billionaires},d=function(n){var e={};return n.bookmarkData.map((function(n){e[n.bookId]=n.__id})),e},h=function(n){return n.searchTerm}},5:function(n,e){},7871:function(n,e,t){"use strict";t.d(e,"a",(function(){return a}));var r=t("e4d3"),a=new r["UserSession"]({appConfig:new r["AppConfig"](["store_write","publish_data"])})},e683:function(n,e,t){}},[[0,"runtime","vendor"]]]);